<!-- game/templates/game/index.html -->
{% extends 'game/base.html' %}
{% block title %}Welcome - The Enchanted Forest Mystery{% endblock %}
{% block content %}
<div class="welcome-container">
    <div class="welcome-header">
        <div class="magical-trees left-tree"></div>
        <div class="magical-trees right-tree"></div>
        
        <h2 class="enchanted-title">The Whispers of the Ancient Oak</h2>
    </div>
    
    <div class="scene-card animated-card">
        <div class="magic-sparkles"></div>
        <div class="card-glow"></div>
        
        <h3><i class="fas fa-book-dead"></i> A Dark Mystery Unfolds</h3>
        <p>Deep within the Whispering Woods, beneath the canopy of ancient trees, a powerful artifact known as the Crystal of Harmony has been stolen from the Sacred Glade. The forest's magical balance has been disturbed, causing darkness to spread through the realm.</p>
        
        <p>Strange whispers echo through the trees, and shadows grow longer with each passing moment. The forest creatures speak of a dark ritual that will be performed under the Blood Moon, now just hours away.</p>
        <p>As magical beings of the forest, you must unite your unique powers to discover who has taken the crystal and stop them before the ritual is complete and the darkness becomes permanent.</p>
        
        <div class="warning-block">
            <i class="fas fa-exclamation-triangle pulsing"></i>
            <p>But beware... <span class="text-glow">not all is as it seems</span>. One among you may know more than they admit.</p>
            <div class="shadow-essence"></div>
        </div>
        
        <div class="cta-buttons">
            <a href="{% url 'player_login' %}" class="btn magical-btn"><i class="fas fa-hat-wizard"></i> Join as Player</a>
            <a href="{% url 'gm_login' %}" class="btn gm-btn"><i class="fas fa-crown"></i> Login as Game Master</a>
        </div>
    </div>
    
    <div class="character-preview">
        <h3 class="section-title"><i class="fas fa-users"></i> Magical Inhabitants</h3>
        
        <div class="character-scroll">
            <div class="character-icons">
                <div class="character-icon"><i class="fas fa-heartbeat"></i><span>White Mage</span></div>
                <div class="character-icon"><i class="fas fa-leaf"></i><span>Green Mage</span></div>
                <div class="character-icon"><i class="fas fa-magic"></i><span>Magenta Sorcerer</span></div>
                <div class="character-icon"><i class="fas fa-feather-alt"></i><span>Forest Fairy</span></div>
                <div class="character-icon"><i class="fas fa-paw"></i><span>Druid</span></div>
                <div class="character-icon"><i class="fas fa-horse"></i><span>Centaur</span></div>
                <div class="character-icon"><i class="fas fa-tree"></i><span>Wood Nymph</span></div>
                <div class="character-icon"><i class="fas fa-store"></i><span>Magic Merchant</span></div>
                <div class="character-icon"><i class="fas fa-cloud-moon"></i><span>Mysterious Wanderer</span></div>
                <div class="character-icon"><i class="fas fa-fire"></i><span>Elementalist</span></div>
            </div>
        </div>
    </div>
    
    <div class="forest-footer">
        <div class="footer-runes">
            <span class="rune">&#x16A0;</span>
            <span class="rune">&#x16B1;</span>
            <span class="rune">&#x16A6;</span>
            <span class="rune">&#x16A8;</span>
            <span class="rune">&#x16BE;</span>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_styles %}
<style>
    .welcome-container {
        max-width: 1000px;
        margin: 0 auto;
        position: relative;
    }
    
    /* Enhanced Header with Animated Elements */
    .welcome-header {
        text-align: center;
        margin-bottom: 20px;
        position: relative;
        padding: 15px 0 5px;
    }
    
    .magical-trees {
        position: absolute;
        top: 0;
        width: 150px;
        height: 200px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%233a5d50' d='M50,10 L60,40 L80,40 L65,60 L75,90 L50,75 L25,90 L35,60 L20,40 L40,40 Z'/%3E%3C/svg%3E");
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0.15;
        z-index: -1;
    }
    
    .left-tree {
        left: 5%;
        transform: scaleX(-1);
        animation: treeSwayLeft 8s ease-in-out infinite;
    }
    
    .right-tree {
        right: 5%;
        animation: treeSwayRight 8s ease-in-out infinite;
    }
    
    @keyframes treeSwayLeft {
        0%, 100% { transform: scaleX(-1) rotate(0deg); }
        50% { transform: scaleX(-1) rotate(-2deg); }
    }
    
    @keyframes treeSwayRight {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(2deg); }
    }
    
    .enchanted-title {
        font-size: 2.5rem;
        margin-bottom: 0;
        background: linear-gradient(120deg, var(--accent-color-light), var(--accent-color), var(--accent-color-dark));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 5px 15px rgba(0,0,0,0.3);
        position: relative;
        display: inline-block;
        animation: titleGlow 3s infinite alternate;
    }
    
    @keyframes titleGlow {
        0% {
            text-shadow: 0 0 5px rgba(179, 100, 194, 0.3);
        }
        100% {
            text-shadow: 0 0 15px rgba(179, 100, 194, 0.8), 0 0 30px rgba(179, 100, 194, 0.4);
        }
    }
    
    .mystical-divider {
        position: relative;
        height: 2px;
        background: linear-gradient(to right, transparent, var(--accent-color), transparent);
        width: 60%;
        margin: 25px auto;
    }
    
    .mystical-divider span {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: var(--light-bg);
        padding: 0 15px;
        animation: spinSlow 15s linear infinite;
    }
    
    @keyframes spinSlow {
        0% { transform: translate(-50%, -50%) rotate(0deg); }
        100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    .mystical-divider i {
        color: var(--accent-color-light);
        font-size: 1.2rem;
    }
    
    /* Animated Scene Card */
    .animated-card {
        position: relative;
        overflow: hidden;
        transition: all 0.5s ease;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 0 30px rgba(179, 100, 194, 0.2);
        border: 1px solid rgba(179, 100, 194, 0.3);
        background: linear-gradient(135deg, rgba(23, 37, 32, 0.9), rgba(30, 58, 45, 0.8));
        padding: 40px;
        border-radius: 15px;
        margin-bottom: 40px;
    }
    
    .animated-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.4), 0 0 50px rgba(179, 100, 194, 0.3);
    }
    
    .card-glow {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 15px;
        box-shadow: inset 0 0 30px rgba(179, 100, 194, 0.2);
        pointer-events: none;
    }
    
    .scene-card h3 {
        color: var(--accent-color-light);
        margin-top: 0;
        font-size: 1.8rem;
        position: relative;
        padding-bottom: 15px;
        margin-bottom: 20px;
    }
    
    .scene-card h3::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 80px;
        height: 3px;
        background: linear-gradient(to right, var(--accent-color), transparent);
        border-radius: 3px;
    }
    
    .scene-card h3 i {
        margin-right: 10px;
        color: var(--accent-color);
        animation: iconPulse 3s infinite alternate;
    }
    
    @keyframes iconPulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.2); }
    }
    
    .scene-card p {
        font-size: 1.05rem;
        line-height: 1.7;
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
        letter-spacing: 0.02em;
    }
    
    .text-glow {
        color: var(--accent-color-light);
        text-shadow: 0 0 5px rgba(179, 100, 194, 0.7);
        font-weight: 600;
    }
    
    .warning-block {
        background-color: rgba(168, 50, 82, 0.15);
        border-left: 4px solid var(--danger-color);
        padding: 20px;
        margin: 25px 0 30px;
        border-radius: 0 8px 8px 0;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
    }
    
    .warning-block i {
        font-size: 1.8rem;
        color: var(--danger-color);
        margin-right: 15px;
    }
    
    .warning-block p {
        margin: 0;
        font-style: italic;
        font-size: 1.1rem;
    }
    
    .shadow-essence {
        position: absolute;
        width: 100%;
        height: 20px;
        bottom: 0;
        left: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.2), transparent);
        animation: shadowMove 4s infinite alternate;
    }
    
    @keyframes shadowMove {
        0% { transform: translateX(-10%) scaleX(0.8); }
        100% { transform: translateX(10%) scaleX(1.2); }
    }
    
    .pulsing {
        animation: pulseFade 2s ease-in-out infinite;
    }
    
    @keyframes pulseFade {
        0%, 100% { opacity: 0.7; }
        50% { opacity: 1; }
    }
    
    /* Enhanced CTA Buttons */
    .cta-buttons {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 40px;
    }
    
    .magical-btn, .gm-btn {
        padding: 15px 30px;
        font-size: 1.1rem;
        border-radius: 50px;
        font-weight: 600;
        color: white;
        text-decoration: none;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2), 0 0 20px rgba(179, 100, 194, 0.3);
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
    }
    
    .magical-btn {
        background: linear-gradient(135deg, #b364c2, #7a3b87);
    }
    
    .gm-btn {
        background: linear-gradient(135deg, #6a3d9a, #4a2373);
    }
    
    .magical-btn:hover, .gm-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.3), 0 0 30px rgba(179, 100, 194, 0.5);
    }
    
    .magical-btn::before, .gm-btn::before {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        background: linear-gradient(45deg, rgba(179, 100, 194, 0), rgba(179, 100, 194, 0.7), rgba(179, 100, 194, 0));
        z-index: -1;
        transform: scale(0.9);
        animation: borderGlow 2s infinite alternate;
        border-radius: 50px;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .magical-btn:hover::before, .gm-btn:hover::before {
        opacity: 1;
    }
    
    @keyframes borderGlow {
        0% { transform: scale(0.9) rotate(0deg); }
        100% { transform: scale(1) rotate(180deg); }
    }
    
    .magical-btn i, .gm-btn i {
        margin-right: 10px;
    }
    
    /* Character Preview Enhancement */
    .character-preview {
        background: rgba(23, 37, 32, 0.6);
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 40px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
    }
    
    .section-title {
        color: var(--accent-color-light);
        text-align: center;
        margin-top: 0;
        margin-bottom: 25px;
        position: relative;
        display: inline-block;
        left: 50%;
        transform: translateX(-50%);
    }
    
    .section-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(to right, transparent, var(--accent-color), transparent);
    }
    
    .section-title i {
        margin-right: 10px;
        color: var(--accent-color);
    }
    
    .character-scroll {
        position: relative;
        overflow-x: auto;
        padding: 10px 0;
        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    }
    
    .character-icons {
        display: flex;
        gap: 20px;
        padding: 0 30px;
        min-width: max-content;
    }
    
    .character-icon {
        text-align: center;
        padding: 15px;
        border-radius: 10px;
        background: rgba(30, 58, 45, 0.4);
        transition: all 0.3s ease;
        min-width: 100px;
        position: relative;
        overflow: hidden;
    }
    
    .character-icon::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(179, 100, 194, 0.2), transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .character-icon:hover {
        transform: translateY(-5px);
        background: rgba(30, 58, 45, 0.6);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2), 0 0 20px rgba(179, 100, 194, 0.3);
    }
    
    .character-icon:hover::before {
        opacity: 1;
    }
    
    .character-icon i {
        font-size: 2rem;
        color: var(--accent-color-light);
        display: block;
        margin-bottom: 10px;
    }
    
    .character-icon span {
        display: block;
        font-size: 0.9rem;
        color: var(--text-color);
    }
    
    /* Footer Runes */
    .forest-footer {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(179, 100, 194, 0.2);
    }
    
    .footer-runes {
        display: flex;
        justify-content: center;
        gap: 30px;
    }
    
    .rune {
        font-size: 1.5rem;
        color: rgba(179, 100, 194, 0.6);
        transition: all 0.3s ease;
        cursor: default;
    }
    
    .rune:hover {
        color: var(--accent-color-light);
        text-shadow: 0 0 10px rgba(179, 100, 194, 0.7);
        transform: translateY(-3px);
    }
</style>
{% endblock %}